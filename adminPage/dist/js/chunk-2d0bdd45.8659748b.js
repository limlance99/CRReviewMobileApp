(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bdd45"],{"2e51":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("section",{staticClass:"section"},[r("div",{staticClass:"container"},[r("h1",{staticClass:"title"},[e._v("Reviews of CR "+e._s(e.crid)+" ")]),r("h2",{staticClass:"subtitle"},[e._v(" This section shows a table containing all Reviews of CR "+e._s(e.crid)+" in the database. ")]),r("ReviewList",{attrs:{crid:e.crid}})],1)])])},i=[],n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("b-table",{ref:"table",attrs:{data:e.data,loading:e.tableLoading,"backend-sorting":"","default-sort-direction":e.defaultSortOrder,"default-sort":[e.sortField,e.sortOrder]},on:{sort:e.onSort},scopedSlots:e._u([{key:"default",fn:function(t){return[r("b-table-column",{attrs:{field:"id",label:"ID"}},[e._v(e._s(t.row.id))]),r("b-table-column",{attrs:{field:"createdat",label:"Date Created"}},[e._v(e._s(e.parseDate(t.row.createdat)))]),r("b-table-column",{attrs:{field:"cleanliness",label:"Cleanliness"}},[e._v(e._s(t.row.cleanliness))]),r("b-table-column",{attrs:{field:"comfort",label:"Comfort"}},[e._v(e._s(t.row.comfort))]),r("b-table-column",{attrs:{field:"facilities",label:"Facilities"}},[e._v(e._s(t.row.facilities))]),r("b-table-column",{attrs:{field:"reviewtext",label:"Review Text"}},[e._v(e._s(t.row.reviewtext))]),r("b-table-column",{attrs:{label:"Delete"}},[r("b-button",{attrs:{type:"is-warning"},on:{click:function(r){return e.removeReview(t.row.id)}}},[e._v("Delete")])],1)]}}])},[r("template",{slot:"empty"},[e.tableLoading?r("p",[e._v("Loading...")]):r("p",[e._v(e._s(e.DetailMessage))])])],2)],1)},s=[],o=(r("a4d3"),r("4de4"),r("4160"),r("0d03"),r("e439"),r("dbb4"),r("b64b"),r("ac1f"),r("5319"),r("159b"),r("96cf"),r("89ba")),c=r("2fa7"),l=r("2f62");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(r,!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b={props:["crid"],data:function(){return{data:[],tableLoading:!1,defaultSortOrder:"desc",sortField:"fullname",sortOrder:"desc",DetailMessage:"Nothing Here"}},computed:d({},Object(l["c"])(["ListofReviews"])),methods:d({},Object(l["b"])(["fetchTable","deleteReview"]),{parseDate:function(e){var t=new Date(e.replace(" ","T"));return t},onSort:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.sortField=t,this.sortOrder=r,this.tableLoading=!0,a={table:"crs",field:t,order:r},e.next=6,this.fetchTable(a);case 6:this.data=this.ListofCRs,this.tableLoading=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}(),goToReviews:function(e){this.$router.push({path:"/reviews/".concat(e)})},removeReview:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.tableLoading=!0,e.next=3,this.deleteReview(t);case 3:r=e.sent,r?(this.data=this.ListofReviews,this.$buefy.toast.open("Review deleted successfully!")):this.$buefy.toast.open("An error occured :("),this.tableLoading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}),mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.tableLoading=!0,t={table:"reviews",field:this.sortField,order:this.sortOrder,id:this.crid},e.next=4,this.fetchTable(t);case 4:r=e.sent,e.t0=r,e.next=200===e.t0?8:409===e.t0?10:13;break;case 8:return this.data=this.ListofReviews,e.abrupt("break",15);case 10:return this.data=[],this.DetailMessage="Nothing Here",e.abrupt("break",15);case 13:this.data=[],this.DetailMessage="Could not connect to the database.";case 15:this.tableLoading=!1;case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},f=b,h=r("2877"),p=Object(h["a"])(f,n,s,!1,null,null,null),v=p.exports,w={name:"Reviews",components:{ReviewList:v},data:function(){return{crid:this.$route.params.crid}}},m=w,g=Object(h["a"])(m,a,i,!1,null,null,null);t["default"]=g.exports}}]);
//# sourceMappingURL=chunk-2d0bdd45.8659748b.js.map